<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>CLI Documentation · Vault Gatekeeper</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## server"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="CLI Documentation · Vault Gatekeeper"/><meta property="og:type" content="website"/><meta property="og:url" content="https://nemosupremo.github.io/vault-gatekeeper/index.html"/><meta property="og:description" content="## server"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/vault-gatekeeper/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/vault-gatekeeper/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/vault-gatekeeper/"><img class="logo" src="/vault-gatekeeper/img/gk-white.png" alt="Vault Gatekeeper"/><h2 class="headerTitleWithLogo">Vault Gatekeeper</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/vault-gatekeeper/docs/doc.html" target="_self">Docs</a></li><li class="siteNavGroupActive"><a href="/vault-gatekeeper/docs/api.html" target="_self">API</a></li><li class="siteNavGroupActive siteNavItemActive"><a href="/vault-gatekeeper/docs/cli.html" target="_self">CLI</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Documentation</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Documentation</h3><ul><li class="navListItem"><a class="navItem" href="/vault-gatekeeper/docs/doc.html">Documentation</a></li><li class="navListItem"><a class="navItem" href="/vault-gatekeeper/docs/api.html">API Reference</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/vault-gatekeeper/docs/cli.html">CLI Documentation</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">CLI Documentation</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="server"></a><a href="#server" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>server</h2>
<p>See the <a href="/vault-gatekeeper/docs/doc.html#configuration">Configuration Documentation</a></p>
<h2><a class="anchor" aria-hidden="true" id="seal"></a><a href="#seal" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>seal</h2>
<p>Seals the Gatekeeper instance</p>
<pre><code class="hljs">Usage:
  gatekeeper seal [flags]

Flags:
      --gatekeeper-addr string   Hostname<span class="hljs-built_in"> address </span>of the gatekeeper instance. (default <span class="hljs-string">"http://localhost:9201"</span>)
  -h, --help                     help <span class="hljs-keyword">for</span> seal
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="unseal"></a><a href="#unseal" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>unseal</h2>
<p>Unseals the gatekeeper instance. The available methods are:</p>
<ul>
<li>token</li>
<li>token-wrapped</li>
<li>approle</li>
<li>aws</li>
<li>github</li>
</ul>
<pre><code class="hljs">Usage:
  gatekeeper unseal [method] [flags]

Flags:
      -<span class="ruby">-gatekeeper-addr string      The address to gatekeeper. (default <span class="hljs-string">"http://localhost:9201"</span>)
</span>      -<span class="ruby">-vault-token string          Unseal gatekeeper at startup with a Vault token.
</span>      -<span class="ruby">-auth-token-wrapped string   Unseal gatekeeper at startup with a Vault token that is stored with a response wrapped temp token.
</span>      -<span class="ruby">-auth-app-role string        Unseal gatekeeper at startup with a Vault token retrieved using this app role.
</span>      -<span class="ruby">-auth-app-secret string      The app role secret_id to be used.
</span>      -<span class="ruby">-auth-aws-ec2                Unseal gatekeeper at startup using EC2 login.
</span>      -<span class="ruby">-auth-aws-iam string         Unseal gatekeeper at startup using IAM login.
</span>      -<span class="ruby">-auth-aws-nonce string       AWS-EC2 nonce <span class="hljs-keyword">for</span> repeated authentication.
</span>      -<span class="ruby">-auth-gh-token string        Vault authorized github personal token.
</span>  -<span class="ruby">h, --help                        help <span class="hljs-keyword">for</span> unseal
</span></code></pre>
<h2><a class="anchor" aria-hidden="true" id="policy"></a><a href="#policy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>policy</h2>
<p>View the current gatekeeper policy file.</p>
<pre><code class="hljs">Usage:
  gatekeeper policy [command] [flags]
  gatekeeper policy [command]

Available Commands:
  reload      Reload the gatekeeper policy <span class="hljs-keyword">on</span> an instance.
  update      Update the current gatekeeper policy file <span class="hljs-keyword">from</span> a file. Specify <span class="hljs-comment">'-' to read from stdin.</span>

Flags:
      --vault-addr <span class="hljs-built_in">string</span>           The address <span class="hljs-keyword">to</span> the vault server. (<span class="hljs-keyword">default</span> <span class="hljs-string">"http://localhost:8200"</span>)
      --vault-client-cert <span class="hljs-built_in">string</span>    Path <span class="hljs-keyword">to</span> a PEM-encoded client certificate <span class="hljs-keyword">on</span> the local disk. This file <span class="hljs-keyword">is</span> used <span class="hljs-keyword">for</span> TLS communication <span class="hljs-keyword">with</span> the Vault server. (This <span class="hljs-keyword">is</span> different <span class="hljs-keyword">from</span> the TLS Certificates Auth Method).
      --vault-client-<span class="hljs-keyword">key</span> <span class="hljs-built_in">string</span>     Path <span class="hljs-keyword">to</span> an unencrypted, PEM-encoded <span class="hljs-keyword">private</span> <span class="hljs-keyword">key</span> <span class="hljs-keyword">on</span> disk which corresponds <span class="hljs-keyword">to</span> the matching client certificate. (This <span class="hljs-keyword">is</span> different <span class="hljs-keyword">from</span> the TLS Certificates Auth Method).
      --vault-<span class="hljs-keyword">skip</span>-verify           <span class="hljs-keyword">Skip</span> TLS verification <span class="hljs-keyword">of</span> Vault<span class="hljs-comment">'s SSL certificate.</span>
      --vault-kv-version <span class="hljs-built_in">string</span>     Vault KV backend version that <span class="hljs-keyword">is</span> used <span class="hljs-keyword">for</span> the policy-path. Either v1 <span class="hljs-keyword">or</span> v2. (<span class="hljs-keyword">default</span> <span class="hljs-string">"2"</span>)
      --policy-path <span class="hljs-built_in">string</span>          The path <span class="hljs-keyword">on</span> Vault <span class="hljs-keyword">to</span> a v2 kv backend <span class="hljs-keyword">where</span> gatekeeper can load the token policy. Gatekeeper will merge all policies at this path <span class="hljs-keyword">and</span> its children<span class="hljs-comment">'s paths. (default "secret/data/gatekeeper")</span>
      --vault-token <span class="hljs-built_in">string</span>          Unseal gatekeeper at startup <span class="hljs-keyword">with</span> a Vault token.
      --auth-token-wrapped <span class="hljs-built_in">string</span>   Unseal gatekeeper at startup <span class="hljs-keyword">with</span> a Vault token that <span class="hljs-keyword">is</span> stored <span class="hljs-keyword">with</span> a response wrapped temp token.
      --auth-app-role <span class="hljs-built_in">string</span>        Unseal gatekeeper at startup <span class="hljs-keyword">with</span> a Vault token retrieved <span class="hljs-keyword">using</span> this app role.
      --auth-app-secret <span class="hljs-built_in">string</span>      The app role secret_id <span class="hljs-keyword">to</span> be used.
      --auth-aws-ec2                Unseal gatekeeper at startup <span class="hljs-keyword">using</span> EC2 login.
      --auth-aws-iam <span class="hljs-built_in">string</span>         Unseal gatekeeper at startup <span class="hljs-keyword">using</span> IAM login.
      --auth-aws-nonce <span class="hljs-built_in">string</span>       AWS-EC2 nonce <span class="hljs-keyword">for</span> repeated authentication.
      --auth-gh-token <span class="hljs-built_in">string</span>        Vault authorized github personal token.
  -h, --help                        help <span class="hljs-keyword">for</span> policy
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="policy-update"></a><a href="#policy-update" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>policy update</h2>
<p>Update the current gatekeeper policy file from a file. Specify <code>-</code> to read from stdin.</p>
<pre><code class="hljs">Usage:
  gatekeeper policy update [file] [flags]

Flags:
  -h, --help   help <span class="hljs-keyword">for</span> update

<span class="hljs-keyword">Global</span> Flags:
      --auth-app-role <span class="hljs-built_in">string</span>        Unseal gatekeeper at startup <span class="hljs-keyword">with</span> a Vault token retrieved <span class="hljs-keyword">using</span> this app role.
      --auth-app-secret <span class="hljs-built_in">string</span>      The app role secret_id <span class="hljs-keyword">to</span> be used.
      --auth-aws-ec2                Unseal gatekeeper at startup <span class="hljs-keyword">using</span> EC2 login.
      --auth-aws-iam <span class="hljs-built_in">string</span>         Unseal gatekeeper at startup <span class="hljs-keyword">using</span> IAM login.
      --auth-aws-nonce <span class="hljs-built_in">string</span>       AWS-EC2 nonce <span class="hljs-keyword">for</span> repeated authentication.
      --auth-gh-token <span class="hljs-built_in">string</span>        Vault authorized github personal token.
      --auth-token-wrapped <span class="hljs-built_in">string</span>   Unseal gatekeeper at startup <span class="hljs-keyword">with</span> a Vault token that <span class="hljs-keyword">is</span> stored <span class="hljs-keyword">with</span> a response wrapped temp token.
      --policy-path <span class="hljs-built_in">string</span>          The path <span class="hljs-keyword">on</span> Vault <span class="hljs-keyword">to</span> a v2 kv backend <span class="hljs-keyword">where</span> gatekeeper can load the token policy. Gatekeeper will merge all policies at this path <span class="hljs-keyword">and</span> its children<span class="hljs-comment">'s paths. (default "secret/data/gatekeeper")</span>
      --vault-addr <span class="hljs-built_in">string</span>           The address <span class="hljs-keyword">to</span> the vault server. (<span class="hljs-keyword">default</span> <span class="hljs-string">"http://localhost:8200"</span>)
      --vault-client-cert <span class="hljs-built_in">string</span>    Path <span class="hljs-keyword">to</span> a PEM-encoded client certificate <span class="hljs-keyword">on</span> the local disk. This file <span class="hljs-keyword">is</span> used <span class="hljs-keyword">for</span> TLS communication <span class="hljs-keyword">with</span> the Vault server. (This <span class="hljs-keyword">is</span> different <span class="hljs-keyword">from</span> the TLS Certificates Auth Method).
      --vault-client-<span class="hljs-keyword">key</span> <span class="hljs-built_in">string</span>     Path <span class="hljs-keyword">to</span> an unencrypted, PEM-encoded <span class="hljs-keyword">private</span> <span class="hljs-keyword">key</span> <span class="hljs-keyword">on</span> disk which corresponds <span class="hljs-keyword">to</span> the matching client certificate. (This <span class="hljs-keyword">is</span> different <span class="hljs-keyword">from</span> the TLS Certificates Auth Method).
      --vault-kv-version <span class="hljs-built_in">string</span>     Vault KV backend version that <span class="hljs-keyword">is</span> used <span class="hljs-keyword">for</span> the policy-path. Either v1 <span class="hljs-keyword">or</span> v2. (<span class="hljs-keyword">default</span> <span class="hljs-string">"2"</span>)
      --vault-<span class="hljs-keyword">skip</span>-verify           <span class="hljs-keyword">Skip</span> TLS verification <span class="hljs-keyword">of</span> Vault<span class="hljs-comment">'s SSL certificate.</span>
      --vault-token <span class="hljs-built_in">string</span>          Unseal gatekeeper at startup <span class="hljs-keyword">with</span> a Vault token.
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="policy-reload"></a><a href="#policy-reload" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>policy reload</h2>
<p>Reload the gatekeeper policy on an instance.</p>
<pre><code class="hljs">Usage:
  gatekeeper<span class="hljs-built_in"> policy </span>reload [flags]

Flags:
  -h, --help   help <span class="hljs-keyword">for</span> reload

Global Flags:
      --gatekeeper-addr string      The<span class="hljs-built_in"> address </span><span class="hljs-keyword">to</span> gatekeeper. (default <span class="hljs-string">"http://localhost:9201"</span>)
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/vault-gatekeeper/docs/api.html">← API Reference</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#server">server</a></li><li><a href="#seal">seal</a></li><li><a href="#unseal">unseal</a></li><li><a href="#policy">policy</a></li><li><a href="#policy-update">policy update</a></li><li><a href="#policy-reload">policy reload</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/vault-gatekeeper/" class="nav-home"><img src="/vault-gatekeeper/img/gk-white.png" alt="Vault Gatekeeper" width="66"/></a><div><h5>Docs</h5><a href="/vault-gatekeeper/docs/en/doc.html">Documentation</a><a href="/vault-gatekeeper/docs/en/api.html">API Reference</a><a href="/vault-gatekeeper/docs/en/cli.html">CLI Documentation</a></div><div><h5>Social</h5><a href="https://github.com/">GitHub</a><a class="github-button" href="https://github.com/nemosupremo/vault-gatekeeper" data-icon="octicon-star" data-count-href="/nemosupremo/vault-gatekeeper/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2018 nemosupremo</section></footer></div></body></html>